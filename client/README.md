# JH 탐색기

브라우저 내 문서 탐색기 및 에디터 기능을 가진 애플리케이션입니다.

## 작성자

이진형(bya2, byaa1972@gmail.com)

팀 구성 - 개인

## 기술

> - 언어: `HTML5`, `SCSS`, `Typescript`
> - 라이브러리: `React`, `Redux`, `React-Router-DOM`, `Firebase`
> - 빌드: `Webpack`, `Babel`
> - 데이터베이스: `Firestore`

## 장치

> - 모바일 (320px~)
> - 태블릿
> - 노트북 (~1440px)

## 전체 화면


## 화면 및 기능

브라우저 내 문서 탐색기 및 에디터 기능을 가진 애플리케이션입니다.

재사용 컴포넌트: 이벤트 발생마다 컴포넌트 상태의 변경에 따른 컴포넌트의 리렌더링에 의해 성능 감소를 완화하고,`CSS 모듈`의 사용에 최적화하고, 중복된 코드 작성 방지, 어떤 기능에 대한 목적을 나타내는 재활용 컴포넌트를 구현했습니다.

로그인: 계정을 등록할 수 있고, 이를 통해 로그인 및 로그아웃할 수 있습니다. 등록된 계정은 `Firestore`에 저장됩니다.

페이지: 방문한 페이지는 `스토리지 객체`에 저장됩니다. 이를 통해 사용자는 방문한 페이지 목록을 볼 수 있고, 해당 페이지의 탐색기를 탐색기 목록에 추가할 수 있습니다.

탐색기: VSCode, 네이버 클라우드와 같은 탐색기의 트리 구조를 참고해서 컴포넌트 재귀를 통해 계층 구조로 구현했습니다. 분리된 컴포넌트들의 상태를 관리하기 위해 `Redux`를 사용했습니다. 탐색기 내의 요소는 '문서'와 '폴더'로 구분합니다. 페이지에 해당하는 계정은 문서와 폴더를 작성할 수 있습니다. 작성된 문서와 폴더는 `Firestore`에 저장됩니다. 문서로의 이동은 라우트 기능을 사용하여 URL을 통해 리소스를 표현합니다.

문서 검색: `Firestore`는 '전체 텍스트 검색 기능'을 제공하지 않기 때문에, 값에 대한 일부 문자열을 검색할 수 없었습니다. 그래서 사용자가 작성하는 쿼리와 일치하는 문서를 검색하고, 그 경로를 화면 상에 출력할 수 있도록 작성했습니다.

편집기: 사용자 입력할 때마다 이벤트 객체를 통해 자동 줄 바꿈 기능을 구현했습니다. 또한 줄이 변경될 때마다 줄에 번호가 부여되도록 구현했습니다.

문서 요소: 편집기에 작성된 내용을 서버에 전송하면 문서 내 요소가 추가될 수 있도록 했고, Selection 객체로 해당 요소를 클릭하면 에디터에 작성한 내용에 대한 복사 기능을 구현했습니다.

## 데모



## 실행
```
> npm start (개발 모드)
> npm run build (프로덕션 모드)
```

## 에러 핸들링

### Typescript

- 문제: `undefined`, `null`이 포함된 인터페이스와 포함되지 않은 인터페이스 간의 데이터 전달이 이루어질 때, 타입을 명시하도록 강제.
- 해결: 조건문으로 `throw`로 에러를 발생.
  - 의도하지 않은 동작 발견
  - `as`등의 선언자를 사용하지 않고 코드의 간결성 유지

### Firestore API

> - `FB`를 통해 불러온 객체는 `read-only` 상태이기 때문에, 스프레드 문법을 통해 해당 객체를 다른 변수에 할당하고, 수정하여 사용했습니다.
> - 데이터를 '추가', '수정', '삭제'하는 작업에 대한 요청은 일정 시간의 간격을 두고 실행되어야하므로, 읽기 작업이 있으면 `Transaction`, 없으면 `Batch`를 이용했습니다.

## 그 외

### 변경점

- Express로 백엔드를 작성하고, 클라이언트에서 `fetch`를 이용해서 API를 작성했으나, `Firestore`로 변경. (22/4/29)

### 다른 프로젝트

- [영화 정보 대시보드](https://github.com/bya2/ps-movie-graphs-app)

- [뭐해먹지](https://github.com/KNUT-Mohaemookji/mohaemookji-legacy)

- [철도 환경 모니터링 시뮬레이터](https://github.com/ord-lab205)